<!DOCTYPE html>

<html>

<head>
  <title>Account</title>

  <meta charset="UTF-8"/>

  <!-- Firebase -->
  <script src="https://www.gstatic.com/firebasejs/3.4.0/firebase.js"></script>

  <!-- JQuery -->
  <script type="text/JavaScript" src="JS/jquery.js"> </script>

  <!-- My JS -->
  <script type="text/JavaScript" src="JS/history.js"> </script>

  <firebase-auth id="auth" app-name="testnew-de7c3"></firebase-auth>

  <!-- Link to a StyleSheets
	<link rel="stylesheet" type="text/css" href="Css/style.css">
  -->

<!-- Bootstrap-->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

<!-- Bootstrap-->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">

<!-- Bootstrap-->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>


<!-- Compiled and minified CSS -->
 <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.98.2/css/materialize.min.css">

 <!-- Compiled and minified JavaScript -->
 <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.98.2/js/materialize.min.js"></script>

 <link rel="stylesheet" href="css/account.css" type='text/css'>



</head>

<body>
<nava>
 <center><h1> Account </h1></center>
</nava>


<center>
  <button id="customButton" style="color: #FF4D38;" class="btn-floating btn-large material-icons waves-effect waves-light white"> + </></button>
</center>
 <div id="historyData">

 </div>
 <br>
<center><button class='btn white'id="logOutButton" type="button"> Logout </button></center>


  <script src="https://checkout.stripe.com/checkout.js"></script>
  <script>
    var handler = StripeCheckout.configure({
        key: 'pk_live_4mxodS1urqM170r0EBSO5qG4',
        image: "http://robinbank.co/assets/robin-icon.png",
        token: function(token, args) {
          // Use the token to create the charge with a server-side script.
          // You can access the token ID with `token.id`
          console.log(token)
          
          $.ajax({
              url: "https://lobby-boy.herokuapp.com/user",
              type: 'post',
              data: {tokenid: token.id, email: token.email, donationAmt: 0},
              success: function(data) {

                  console.log("Card successfully charged!");
                  console.log(data);

              },
              error: function(data) {
                console.log("Ajax Error!");
                console.log(data);
              }
            }); // end ajax call
        }
      });

  document.getElementById('customButton').addEventListener('click', function(e) {
    // Open Checkout with further options:
    handler.open({
      name: 'Stripe.com',
      description: '2 widgets',
      zipCode: false,
      amount: 0
    });
    e.preventDefault();
  });

  // Close Checkout on page navigation:
  window.addEventListener('popstate', function() {
    handler.close();
  });

  </script>
</body>

</html>
